<form (ngSubmit)="onSubmit()" [formGroup]="recipeForm">
    <h3>New Recipe</h3>
    <div class="row">
        <div class="col-xs-12">
            <div class="btn-group">
                <button
                    type="submit"
                    class="btn btn-success"
                    [disabled]="recipeForm.invalid">
                        Save
                </button>
                <button class="btn btn-danger">Cancel</button>
            </div>
            <div class="form-group">
                <label for="recipeTitle">Title</label>
                <input
                    type="text" 
                    class="form-control"
                    id="recipeTitle"
                    formControlName="title"
                    >
                <span [hidden]="!validateField('title')">
                    Please fill the title field!
                </span>
            </div>
            <div class="form-group">
                <label for="recipeDescription">Description</label>
                <input
                    type="text"
                    class="form-control"
                    id="recipeDescription"
                    formControlName="description">
                <span [hidden]="!validateField('description')">
                    Please fill the description field!
                </span>
            </div>
            <!-- <div class="form-group">
                <label for="recipeImage">Image</label>
                <input type="text" class="form-control" id="recipeImage">
            </div> -->
            <div
                class="row"
                formArrayName="ingredients">
                <div class="col-xs-12">
                    <div
                        class="row"
                        *ngFor="let ingredient of recipeForm.get('ingredients').controls; let i = index"
                        [formGroupName]="i">
                        <div class="col-xs-5">
                            <div class="form-group">
                                <!-- <span class="label label-default">Ingredient name:</span> -->
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="recipeIngredientName"
                                        formControlName="name">
                            </div>
                        </div>
                        <div class="col-xs-4">
                            <div class="form-group">
                                <!-- <span class="label">Amount:</span> -->
                                <input
                                    type="number"
                                    class="form-control"
                                    id="recipeIngredintAmount"
                                    formControlName="amount">
                            </div>
                        </div>
                        <div class="col-xs-3">
                            <!-- <span class="label">Delete</span> -->
                            <button
                                class="btn btn-danger"
                                type="button"
                                (click)="onDeleteIngredient(i)">X</button>
                        </div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" type="button" (click)="setIngredient();">Add ingredient</button>
        </div>
    </div>
</form>
